<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>

<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.abdelkrim.rag_impl.presentation.UIcontrollers.ChatController"
      styleClass="main-container">

    <!-- Header -->
    <HBox styleClass="header">
        <Text styleClass="title-text" text="Chat with PDF"/>
    </HBox>

    <!-- Main Content Area -->
    <StackPane VBox.vgrow="ALWAYS">
        <!-- Initial Upload State -->
        <VBox fx:id="uploadBox" styleClass="upload-container" alignment="CENTER" spacing="20">
            <Label text="Upload" styleClass="upload-icon"/>
            <Label text="Click to upload PDF file" styleClass="upload-text"/>
            <Button text="Upload File" styleClass="upload-button" onAction="#handleFileUpload"/>
        </VBox>

        <!-- Chat Messages Area (Initially Hidden) -->
        <ScrollPane fx:id="chatScrollPane" styleClass="chat-scroll-pane" visible="false" managed="false">
            <VBox fx:id="messageContainer" styleClass="message-container"/>
        </ScrollPane>
    </StackPane>

    <!-- Bottom Bar -->
    <HBox styleClass="bottom-bar" alignment="CENTER">
        <Button text="Import" styleClass="import-button">
            <HBox.margin>
                <Insets right="10"/>
            </HBox.margin>
        </Button>

        <TextField fx:id="messageInput" styleClass="message-input"
                   promptText="Start typing..." HBox.hgrow="ALWAYS"/>

        <Button text="Send" styleClass="send-button" onAction="#handleSendMessage">
            <HBox.margin>
                <Insets left="10"/>
            </HBox.margin>
        </Button>
    </HBox>

</VBox>